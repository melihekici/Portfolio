{"ast":null,"code":"import _slicedToArray from\"/home/canavar/Desktop/react/tutorial/portfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from'react';import styles from'./Project2.module.css';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Project2(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),shownImage=_useState2[0],setShownImage=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),classificationResult=_useState4[0],setClassificationResult=_useState4[1];function pageChangeHandler(){props.pageChanger(\"home\");};var imgElement=useRef();useEffect(function(){if(shownImage){console.log(\"Sent Api Request\");var form=new FormData();form.append('image',imgElement.current.files[0]);axios.post(\"https://cors-everywhere-me.herokuapp.com/http://54.237.55.50:5000/classify\",form).then(function(res){return setClassificationResult(res.data.files);});}else{setClassificationResult(\"Choose Image\");}},[shownImage]);function imageUploadHandler(event){if(event.target.files&&event.target.files[0]){var fileName=event.target.files[0]['name'].toLowerCase();if(fileName.includes('.jpg')||fileName.includes('.png')||fileName.includes('.jpeg')){;imgElement.current.onload=function(){URL.revokeObjectURL(imgElement.current.src);};setShownImage(URL.createObjectURL(event.target.files[0]));}else{setShownImage(null);}}};return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[/*#__PURE__*/_jsx(\"img\",{alt:\"Back\",onClick:pageChangeHandler,className:styles[\"back-button\"],width:\"25rem\",src:\"https://image.flaticon.com/icons/png/512/60/60577.png\"}),\"Web Content Filtering\"]}),/*#__PURE__*/_jsx(\"div\",{className:styles.sourceCode,children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Source Codes (For Backend API): \",/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",rel:\"noreferrer\",href:\"https://github.com/melihekici/ImageClassificationExampleApi\",children:\"Image Classification API\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:styles['image-div'],children:/*#__PURE__*/_jsx(\"img\",{alt:\"Classification\",className:styles.myImg,id:\"myImg\",src:shownImage})}),/*#__PURE__*/_jsx(\"div\",{className:styles['input-div'],children:/*#__PURE__*/_jsx(\"input\",{ref:imgElement,onChange:imageUploadHandler,type:\"file\"})}),/*#__PURE__*/_jsxs(\"div\",{className:styles['classification-div'],children:[\"Classification Result: \",classificationResult]}),/*#__PURE__*/_jsxs(\"div\",{className:styles['project-info'],children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Project Info\"}),/*#__PURE__*/_jsx(\"p\",{children:\"This is a web content filtering project based on deep learning and image classification.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"It aims to classify the screen view into 3 different categories: Normal Content, Violence Content and Adult Content.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"To achieve this, I have trained an image classification model using Tensorflow and Keras libraries. After training the model, i have converted the model to tflite and currently able to run it on android mobile devices.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"But for this demo, I have created an API using Flask and Docker and deployed my project to AWS.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Using the interface above, you can upload your image to this website. After you upload your image, a post request will be sent to my Flask API and classification result will be returned to this webpage.\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontWeight:\"600\"},children:\"Please explore my project using this app and leave a feedback.\"})]})]});};export default Project2;","map":{"version":3,"sources":["/home/canavar/Desktop/react/tutorial/portfolio/src/components/Project2/Project2.js"],"names":["React","useState","useEffect","useRef","styles","axios","Project2","props","shownImage","setShownImage","classificationResult","setClassificationResult","pageChangeHandler","pageChanger","imgElement","console","log","form","FormData","append","current","files","post","then","res","data","imageUploadHandler","event","target","fileName","toLowerCase","includes","onload","URL","revokeObjectURL","src","createObjectURL","sourceCode","myImg","fontWeight"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport styles from './Project2.module.css';\nimport axios from 'axios'\n\nfunction Project2(props) {\n    const [shownImage, setShownImage] = useState(null);\n    const [classificationResult, setClassificationResult] = useState(\"\");\n    \n    function pageChangeHandler() {\n        props.pageChanger(\"home\");\n    };\n\n    const imgElement = useRef();\n    useEffect(() => {\n\n        if(shownImage) {\n            console.log(\"Sent Api Request\");\n            const form = new FormData();\n            form.append('image', imgElement.current.files[0]);\n            axios.post(\"https://cors-everywhere-me.herokuapp.com/http://54.237.55.50:5000/classify\", form).then(res => setClassificationResult(res.data.files));\n        }else {\n            setClassificationResult(\"Choose Image\")\n        }\n    }, [shownImage]);\n\n\n    function imageUploadHandler(event) {\n        if(event.target.files && event.target.files[0]) {\n            const fileName = event.target.files[0]['name'].toLowerCase();\n            if(fileName.includes('.jpg') || fileName.includes('.png') || fileName.includes('.jpeg')) {;\n\n                imgElement.current.onload = () => {\n                    URL.revokeObjectURL(imgElement.current.src)\n                };\n\n                setShownImage(URL.createObjectURL(event.target.files[0]));\n            }else {\n                setShownImage(null);\n            }\n        }\n    };\n    \n    return (\n    <React.Fragment>\n    <h1>\n        <img alt=\"Back\" onClick={pageChangeHandler} className={styles[\"back-button\"]} width=\"25rem\" src=\"https://image.flaticon.com/icons/png/512/60/60577.png\"/>\n        Web Content Filtering\n    </h1>\n    <div className={styles.sourceCode}>\n        <p>Source Codes (For Backend API): <a target=\"_blank\" rel=\"noreferrer\" href=\"https://github.com/melihekici/ImageClassificationExampleApi\">Image Classification API</a></p>\n    </div>\n    <div className={styles['image-div']}><img alt=\"Classification\" className={styles.myImg} id=\"myImg\" src={shownImage}/></div>\n    <div className={styles['input-div']}>\n        <input ref={imgElement} onChange={imageUploadHandler} type='file' />\n    </div>\n    <div className={styles['classification-div']}>Classification Result: {classificationResult}</div>\n    <div className={styles['project-info']}>\n        <h2>Project Info</h2>\n        <p>This is a web content filtering project based on deep learning and image classification.</p>\n        <p>It aims to classify the screen view into 3 different categories: Normal Content, Violence Content and Adult Content.</p>\n        <p>To achieve this, I have trained an image classification model using Tensorflow and Keras libraries. After training the model, i have converted the model to tflite and currently able to run it on android mobile devices.</p>\n        <p>But for this demo, I have created an API using Flask and Docker and deployed my project to AWS.</p>\n        <p>Using the interface above, you can upload your image to this website. After you upload your image, a post request will be sent to my Flask API and classification result will be returned to this webpage.</p>\n        <p style={{fontWeight: \"600\"}}>Please explore my project using this app and leave a feedback.</p>\n    </div>\n    </React.Fragment>\n    );\n};\n\nexport default Project2;"]},"metadata":{},"sourceType":"module"}